import{d as z,u as C,n as i,j as s}from"./index-BbbxppCW.js";import{f as A}from"./useUsers-D_igF0_M.js";import{u as L}from"./useQuizzes-Ce89MhCe.js";import{c as b}from"./useQuizAttempts-BC2VXcJH.js";import{B as u}from"./button-CIKh5vM4.js";import{C as c,b as d,c as o,a as x}from"./card-zbz7qCJr.js";import{B as p}from"./badge-B57fkYpB.js";import{S as t}from"./skeleton-TmsLY8PM.js";import{A as Q,a as k}from"./alert-Ckbomrq-.js";import{Q as S}from"./QuizCard-CqO6yfKJ.js";import{A as T}from"./AttemptCard-Q6WAcIqk.js";import{M as h}from"./MainLayout-BALAcp-P.js";import{u as U}from"./useTranslation-CC21zoU6.js";import{A as g}from"./arrow-left-DgJDJzNN.js";import{U as B}from"./user-CgQqfPiY.js";import{M as D,P as M}from"./phone-COR7N9_j.js";import{C as E}from"./calendar-BGtI_0eA.js";import"./useQuery-BIga7gMY.js";import"./useMutation-C5-Yw93X.js";import"./useInfiniteQuery-B5ANnVOJ.js";import"./file-question-DCxyUbKp.js";import"./clock-BfSKEJpp.js";import"./target-Dx8SBibj.js";import"./circle-check-Dsibk6Jb.js";import"./circle-x-CAdb3oZW.js";import"./useResponsiveLogo-oJ2RCBfb.js";import"./LanguageSwitcher-CFBw11ZH.js";import"./index-CNkEgW_D.js";import"./Combination-dIoxx1Zk.js";import"./index-CKCShlFX.js";import"./index-CrWK1cfR.js";import"./check-BhLxpiQA.js";import"./Logo-qwv8thKT.js";import"./log-out-CEU61esy.js";import"./users-8lpkJKwV.js";import"./book-open-SIfqpxXT.js";const fs=()=>{const{id:N}=z(),j=C(),{t:a}=U(),m=parseInt(N||"0",10),{data:e,isLoading:f,isError:v}=A(m),{data:l,isLoading:y}=L((e==null?void 0:e.role)===i.Teacher?{created_by:m}:void 0),{data:n,isLoading:w}=b((e==null?void 0:e.role)===i.Student?{user_id:m}:void 0);return f?s.jsx(h,{children:s.jsxs("div",{children:[s.jsx(t,{className:"h-10 w-32 mb-6"}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(t,{className:"h-64 w-full"}),s.jsx(t,{className:"h-96 w-full"})]})]})}):v||!e?s.jsx(h,{children:s.jsxs("div",{children:[s.jsx(Q,{variant:"destructive",children:s.jsx(k,{children:a("admin.users.userNotFound")})}),s.jsxs(u,{onClick:()=>j("/admin/users"),className:"mt-4",children:[s.jsx(g,{className:"w-4 h-4 mr-2"}),a("common.back")]})]})}):s.jsx(h,{children:s.jsxs("div",{children:[s.jsxs(u,{variant:"ghost",onClick:()=>j("/admin/users"),className:"mb-6",children:[s.jsx(g,{className:"w-4 h-4 mr-2"}),a("common.back")]}),s.jsxs(c,{className:"mb-6",children:[s.jsx(d,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(o,{className:"flex items-center gap-2",children:[s.jsx(B,{className:"w-6 h-6"}),e.name]}),s.jsx(p,{variant:e.role===i.Admin?"destructive":e.role===i.Teacher?"default":"secondary",children:a(`roles.${e.role}`)})]})}),s.jsx(x,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:e.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(M,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:e.phone})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{className:"text-sm",children:[a("admin.users.joinedOn"),": ",new Date(e.created_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:[a("admin.users.level"),":"]}),s.jsx(p,{variant:"outline",children:a(`levels.${e.level}`)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:[a("admin.users.locale"),":"]}),s.jsx(p,{variant:"outline",children:a(`languages.${e.locale}`)})]})]})})]}),e.role===i.Teacher&&s.jsxs(c,{children:[s.jsx(d,{children:s.jsx(o,{children:a("admin.users.createdQuizzes")})}),s.jsx(x,{children:y?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(r=>s.jsx(t,{className:"h-48"},r))}):l&&l.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(r=>s.jsx(S,{quiz:r},r.id))}):s.jsx("p",{className:"text-center text-gray-500 py-8",children:a("admin.users.noQuizzes")})})]}),e.role===i.Student&&s.jsxs(c,{children:[s.jsx(d,{children:s.jsx(o,{children:a("admin.users.quizAttempts")})}),s.jsx(x,{children:w?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(r=>s.jsx(t,{className:"h-24"},r))}):n&&n.length>0?s.jsx("div",{className:"space-y-4",children:n.map(r=>s.jsx(T,{attempt:r},r.id))}):s.jsx("p",{className:"text-center text-gray-500 py-8",children:a("admin.users.noAttempts")})})]})]})})};export{fs as UserDetail,fs as default};
