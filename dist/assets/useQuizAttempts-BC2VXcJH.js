import{u}from"./useQuery-BIga7gMY.js";import{e as n,aj as a}from"./index-BbbxppCW.js";import{u as r}from"./useMutation-C5-Yw93X.js";import{u as i}from"./useInfiniteQuery-B5ANnVOJ.js";const q=()=>i({queryKey:["quizAttempts"],queryFn:async({pageParam:t=1})=>(await a.getMine({page:t})).data.data,getNextPageParam:t=>{if(!t||!t.pagination)return;const{pagination:e}=t;return e.current_page<e.last_page?e.current_page+1:void 0},initialPageParam:1}),d=t=>u({queryKey:["quizAttempt",t],queryFn:async()=>(await a.getById(t)).data.data,enabled:!!t}),z=t=>u({queryKey:["quizAttemptResults",t],queryFn:async()=>(await a.getResults(t)).data.data,enabled:!!t}),A=()=>{const t=n();return r({mutationFn:async e=>(await a.start({quiz_id:e})).data.data,onSuccess:()=>{t.invalidateQueries({queryKey:["quizAttempts"]})}})},l=()=>{const t=n();return r({mutationFn:async({id:e,answers:s})=>(await a.submit(e,{answers:s})).data.data,onSuccess:(e,s)=>{t.invalidateQueries({queryKey:["quizAttempt",s.id]}),t.invalidateQueries({queryKey:["quizAttempts"]}),t.invalidateQueries({queryKey:["quizAttemptResults",s.id]})}})};export{d as a,l as b,q as c,z as d,A as u};
