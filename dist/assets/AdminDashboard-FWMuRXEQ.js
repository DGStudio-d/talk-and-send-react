import{i as N,R as d,k as Be,r as ce,j as s}from"./index-BbbxppCW.js";import{f as A,_ as Fe,z as Me,A as Ye,D as et,c as D,d as be,E as T,L as _,F as Ve,h as xe,j as ze,H as tt,I as rt,J as W,K as F,S as nt,M as it,e as at,N as Pe,O as ot,i as M,P as st,G as ct,Q as lt,U as ut,V as Y,w as ke,m as te,W as ft,C as We,x as dt,X as pt,Y as mt,R as vt,T as ht,Z as gt}from"./generateCategoricalChart-BfMwPfyn.js";import{C as re,a as ne,b as _e,c as we}from"./card-zbz7qCJr.js";import{S as pe}from"./skeleton-TmsLY8PM.js";import{B as yt}from"./button-CIKh5vM4.js";import{A as bt,a as xt}from"./alert-Ckbomrq-.js";import{M as me,C as At}from"./MainLayout-BALAcp-P.js";import{u as jt}from"./useTranslation-CC21zoU6.js";import{U as Ot}from"./users-8lpkJKwV.js";import{B as Pt}from"./book-open-SIfqpxXT.js";import{L as kt}from"./log-out-CEU61esy.js";import"./useQuery-BIga7gMY.js";import"./useResponsiveLogo-oJ2RCBfb.js";import"./LanguageSwitcher-CFBw11ZH.js";import"./index-CNkEgW_D.js";import"./Combination-dIoxx1Zk.js";import"./index-CKCShlFX.js";import"./index-CrWK1cfR.js";import"./check-BhLxpiQA.js";import"./Logo-qwv8thKT.js";import"./user-CgQqfPiY.js";var _t=["points","className","baseLinePoints","connectNulls"];function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(this,arguments)}function wt(t,e){if(t==null)return{};var n=St(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function St(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Se(t){return Nt(t)||Rt(t)||Et(t)||Tt()}function Tt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Et(t,e){if(t){if(typeof t=="string")return ve(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(t,e)}}function Rt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nt(t){if(Array.isArray(t))return ve(t)}function ve(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Te=function(e){return e&&e.x===+e.x&&e.y===+e.y},Lt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Te(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Te(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},q=function(e,n){var r=Lt(e);n&&(r=[r.reduce(function(o,a){return[].concat(Se(o),Se(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,c,f){return"".concat(a).concat(f===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},It=function(e,n,r){var i=q(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(q(n.reverse(),r).slice(1))},$t=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=wt(e,_t);if(!n||!n.length)return null;var c=N("recharts-polygon",r);if(i&&i.length){var f=a.stroke&&a.stroke!=="none",l=It(n,i,o);return d.createElement("g",{className:c},d.createElement("path",V({},A(a,!0),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),f?d.createElement("path",V({},A(a,!0),{fill:"none",d:q(n,o)})):null,f?d.createElement("path",V({},A(a,!0),{fill:"none",d:q(i,o)})):null)}var p=q(n,o);return d.createElement("path",V({},A(a,!0),{fill:p.slice(-1)==="Z"?a.fill:"none",className:c,d:p}))},Dt=Fe,Ct=Ye,Kt=Me;function Bt(t,e){return t&&t.length?Dt(t,Kt(e),Ct):void 0}var Ft=Bt;const Mt=Be(Ft);var Vt=Fe,zt=Me,Wt=et;function Ut(t,e){return t&&t.length?Vt(t,zt(e),Wt):void 0}var Ht=Ut;const Zt=Be(Ht);var Gt=["cx","cy","angle","ticks","axisLine"],qt=["ticks","tick","angle","tickFormatter","stroke"];function U(t){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(t)}function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q.apply(this,arguments)}function Ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ee(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Re(t,e){if(t==null)return{};var n=Qt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,He(r.key),r)}}function Xt(t,e,n){return e&&Ne(t.prototype,e),n&&Ne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yt(t,e,n){return e=ae(e),er(t,Ue()?Reflect.construct(e,n||[],ae(t).constructor):e.apply(t,n))}function er(t,e){if(e&&(U(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tr(t)}function tr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ue=function(){return!!t})()}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ae(t)}function rr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&he(t,e)}function he(t,e){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},he(t,e)}function le(t,e,n){return e=He(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function He(t){var e=nr(t,"string");return U(e)=="symbol"?e:e+""}function nr(t,e){if(U(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(U(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ue=function(t){function e(){return Jt(this,e),Yt(this,e,arguments)}return rr(e,t),Xt(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,c=o.cx,f=o.cy;return T(c,f,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,c=r.ticks,f=Mt(c,function(p){return p.coordinate||0}),l=Zt(c,function(p){return p.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:l.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,c=r.ticks,f=r.axisLine,l=Re(r,Gt),p=c.reduce(function(m,u){return[Math.min(m[0],u.coordinate),Math.max(m[1],u.coordinate)]},[1/0,-1/0]),v=T(i,o,p[0],a),y=T(i,o,p[1],a),j=I(I(I({},A(l,!1)),{},{fill:"none"},A(f,!1)),{},{x1:v.x,y1:v.y,x2:y.x,y2:y.y});return d.createElement("line",Q({className:"recharts-polar-radius-axis-line"},j))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,c=i.angle,f=i.tickFormatter,l=i.stroke,p=Re(i,qt),v=this.getTickTextAnchor(),y=A(p,!1),j=A(a,!1),m=o.map(function(u,g){var b=r.getTickValueCoord(u),x=I(I(I(I({textAnchor:v,transform:"rotate(".concat(90-c,", ").concat(b.x,", ").concat(b.y,")")},y),{},{stroke:"none",fill:l},j),{},{index:g},b),{},{payload:u});return d.createElement(_,Q({className:N("recharts-polar-radius-axis-tick",Ve(a)),key:"tick-".concat(u.coordinate)},xe(r.props,u,g)),e.renderTickItem(a,x,f?f(u.value,g):u.value))});return d.createElement(_,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:d.createElement(_,{className:N("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),ze.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return d.isValidElement(r)?a=d.cloneElement(r,i):D(r)?a=r(i):a=d.createElement(be,Q({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(ce.PureComponent);le(ue,"displayName","PolarRadiusAxis");le(ue,"axisType","radiusAxis");le(ue,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function H(t){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(t)}function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C.apply(this,arguments)}function Le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Le(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ge(r.key),r)}}function ar(t,e,n){return e&&Ie(t.prototype,e),n&&Ie(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function or(t,e,n){return e=oe(e),sr(t,Ze()?Reflect.construct(e,n||[],oe(t).constructor):e.apply(t,n))}function sr(t,e){if(e&&(H(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cr(t)}function cr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ze=function(){return!!t})()}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oe(t)}function lr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}function ge(t,e){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ge(t,e)}function fe(t,e,n){return e=Ge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ge(t){var e=ur(t,"string");return H(e)=="symbol"?e:e+""}function ur(t,e){if(H(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(H(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fr=Math.PI/180,$e=1e-5,de=function(t){function e(){return ir(this,e),or(this,e,arguments)}return lr(e,t),ar(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,c=i.radius,f=i.orientation,l=i.tickSize,p=l||8,v=T(o,a,c,r.coordinate),y=T(o,a,c+(f==="inner"?-1:1)*p,r.coordinate);return{x1:v.x,y1:v.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*fr),a;return o>$e?a=i==="outer"?"start":"end":o<-$e?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,c=r.axisLine,f=r.axisLineType,l=$($({},A(this.props,!1)),{},{fill:"none"},A(c,!1));if(f==="circle")return d.createElement(tt,C({className:"recharts-polar-angle-axis-line"},l,{cx:i,cy:o,r:a}));var p=this.props.ticks,v=p.map(function(y){return T(i,o,a,y.coordinate)});return d.createElement($t,C({className:"recharts-polar-angle-axis-line"},l,{points:v}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,c=i.tickLine,f=i.tickFormatter,l=i.stroke,p=A(this.props,!1),v=A(a,!1),y=$($({},p),{},{fill:"none"},A(c,!1)),j=o.map(function(m,u){var g=r.getTickLineCoord(m),b=r.getTickTextAnchor(m),x=$($($({textAnchor:b},p),{},{stroke:"none",fill:l},v),{},{index:u,payload:m,x:g.x2,y:g.y2});return d.createElement(_,C({className:N("recharts-polar-angle-axis-tick",Ve(a)),key:"tick-".concat(m.coordinate)},xe(r.props,m,u)),c&&d.createElement("line",C({className:"recharts-polar-angle-axis-tick-line"},y,g)),a&&e.renderTickItem(a,x,f?f(m.value,u):m.value))});return d.createElement(_,{className:"recharts-polar-angle-axis-ticks"},j)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:d.createElement(_,{className:N("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return d.isValidElement(r)?a=d.cloneElement(r,i):D(r)?a=r(i):a=d.createElement(be,C({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(ce.PureComponent);fe(de,"displayName","PolarAngleAxis");fe(de,"axisType","angleAxis");fe(de,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ie;function Z(t){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(t)}function z(){return z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z.apply(this,arguments)}function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?De(Object(n),!0).forEach(function(r){P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qe(r.key),r)}}function pr(t,e,n){return e&&Ce(t.prototype,e),n&&Ce(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mr(t,e,n){return e=se(e),vr(t,qe()?Reflect.construct(e,n||[],se(t).constructor):e.apply(t,n))}function vr(t,e){if(e&&(Z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hr(t)}function hr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!t})()}function se(t){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},se(t)}function gr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ye(t,e)}function ye(t,e){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ye(t,e)}function P(t,e,n){return e=Qe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qe(t){var e=yr(t,"string");return Z(e)=="symbol"?e:e+""}function yr(t,e){if(Z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E=function(t){function e(n){var r;return dr(this,e),r=mr(this,e,[n]),P(r,"pieRef",null),P(r,"sectorRefs",[]),P(r,"id",ft("recharts-pie-")),P(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),D(i)&&i()}),P(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),D(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return gr(e,t),pr(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,c=o.labelLine,f=o.dataKey,l=o.valueKey,p=A(this.props,!1),v=A(a,!1),y=A(c,!1),j=a&&a.offsetRadius||20,m=r.map(function(u,g){var b=(u.startAngle+u.endAngle)/2,x=T(u.cx,u.cy,u.outerRadius+j,b),k=h(h(h(h({},p),u),{},{stroke:"none"},v),{},{index:g,textAnchor:e.getTextAnchor(x.x,u.cx)},x),K=h(h(h(h({},p),u),{},{fill:"none",stroke:u.fill},y),{},{index:g,points:[T(u.cx,u.cy,u.outerRadius,b),x]}),w=f;return W(f)&&W(l)?w="value":W(f)&&(w=l),d.createElement(_,{key:"label-".concat(u.startAngle,"-").concat(u.endAngle,"-").concat(u.midAngle,"-").concat(g)},c&&e.renderLabelLineItem(c,K,"line"),e.renderLabelItem(a,k,F(u,w)))});return d.createElement(_,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,c=o.blendStroke,f=o.inactiveShape;return r.map(function(l,p){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&r.length!==1)return null;var v=i.isActiveIndex(p),y=f&&i.hasActiveIndex()?f:null,j=v?a:y,m=h(h({},l),{},{stroke:c?l.fill:l.stroke,tabIndex:-1});return d.createElement(_,z({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},xe(i.props,l,p),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(p)}),d.createElement(nt,z({option:j,isActive:v,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,l=i.animationEasing,p=i.animationId,v=this.state,y=v.prevSectors,j=v.prevIsAnimationActive;return d.createElement(it,{begin:c,duration:f,isActive:a,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(j),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var u=m.t,g=[],b=o&&o[0],x=b.startAngle;return o.forEach(function(k,K){var w=y&&y[K],L=K>0?at(k,"paddingAngle",0):0;if(w){var G=Pe(w.endAngle-w.startAngle,k.endAngle-k.startAngle),O=h(h({},k),{},{startAngle:x+L,endAngle:x+G(u)+L});g.push(O),x=O.endAngle}else{var B=k.endAngle,S=k.startAngle,J=Pe(0,B-S),X=J(u),R=h(h({},k),{},{startAngle:x+L,endAngle:x+X+L});g.push(R),x=R.endAngle}}),d.createElement(_,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!ot(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,c=i.className,f=i.label,l=i.cx,p=i.cy,v=i.innerRadius,y=i.outerRadius,j=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!a||!a.length||!M(l)||!M(p)||!M(v)||!M(y))return null;var u=N("recharts-pie",c);return d.createElement(_,{tabIndex:this.props.rootTabIndex,className:u,ref:function(b){r.pieRef=b}},this.renderSectors(),f&&this.renderLabels(a),ze.renderCallByParent(this.props,null,!1),(!j||m)&&st.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(d.isValidElement(r))return d.cloneElement(r,i);if(D(r))return r(i);var a=N("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return d.createElement(rt,z({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(d.isValidElement(r))return d.cloneElement(r,i);var a=o;if(D(r)&&(a=r(i),d.isValidElement(a)))return a;var c=N("recharts-pie-label-text",typeof r!="boolean"&&!D(r)?r.className:"");return d.createElement(be,z({},i,{alignmentBaseline:"middle",className:c}),a)}}])}(ce.PureComponent);ie=E;P(E,"displayName","Pie");P(E,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ct.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});P(E,"parseDeltaAngle",function(t,e){var n=te(e-t),r=Math.min(Math.abs(e-t),360);return n*r});P(E,"getRealPieData",function(t){var e=t.data,n=t.children,r=A(t,!1),i=lt(n,We);return e&&e.length?e.map(function(o,a){return h(h(h({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return h(h({},r),o.props)}):[]});P(E,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=ut(i,o),c=r+Y(t.cx,i,i/2),f=n+Y(t.cy,o,o/2),l=Y(t.innerRadius,a,0),p=Y(t.outerRadius,a,a*.8),v=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:f,innerRadius:l,outerRadius:p,maxRadius:v}});P(E,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?h(h({},e.type.defaultProps),e.props):e.props,i=ie.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,c=r.endAngle,f=r.paddingAngle,l=r.dataKey,p=r.nameKey,v=r.valueKey,y=r.tooltipType,j=Math.abs(r.minAngle),m=ie.parseCoordinateOfPie(r,n),u=ie.parseDeltaAngle(a,c),g=Math.abs(u),b=l;W(l)&&W(v)?(ke(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):W(l)&&(ke(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=v);var x=i.filter(function(O){return F(O,b,0)!==0}).length,k=(g>=360?x:x-1)*f,K=g-x*j-k,w=i.reduce(function(O,B){var S=F(B,b,0);return O+(M(S)?S:0)},0),L;if(w>0){var G;L=i.map(function(O,B){var S=F(O,b,0),J=F(O,p,B),X=(M(S)?S:0)/w,R;B?R=G.endAngle+te(u)*f*(S!==0?1:0):R=a;var Ae=R+te(u)*((S!==0?j:0)+X*K),je=(R+Ae)/2,Oe=(m.innerRadius+m.outerRadius)/2,Je=[{name:J,value:S,payload:O,dataKey:b,type:y}],Xe=T(m.cx,m.cy,Oe,je);return G=h(h(h({percent:X,cornerRadius:o,name:J,tooltipPayload:Je,midAngle:je,middleRadius:Oe,tooltipPosition:Xe},O),m),{},{value:F(O,b),startAngle:R,endAngle:Ae,payload:O,paddingAngle:te(u)*f}),G})}return h(h({},m),{},{sectors:L,data:i})});var br=dt({chartName:"PieChart",GraphicalChild:E,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:de},{axisType:"radiusAxis",AxisComp:ue}],formatAxisMap:pt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const ee=d.memo(({label:t,value:e,icon:n,className:r})=>{const i=ce.useMemo(()=>`stat-label-${t.replace(/\s+/g,"-")}`,[t]);return s.jsx(re,{className:r,role:"article","aria-label":`${t}: ${e}`,children:s.jsxs(ne,{className:"flex items-center justify-between p-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",id:i,children:t}),s.jsx("p",{className:"text-3xl font-bold text-gray-900","aria-labelledby":i,children:e})]}),s.jsx("div",{className:"flex-shrink-0 ml-4",children:s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center","aria-hidden":"true",children:s.jsx(n,{className:"w-6 h-6 text-primary-600"})})})]})})}),Ke=["#22c55e","#3b82f6","#f59e0b"],Mr=()=>{const{t}=jt(),{data:e,isLoading:n,isError:r,refetch:i}=mt();if(n)return s.jsx(me,{children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:t("admin.dashboard.title")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(a=>s.jsx(pe,{className:"h-32"},a))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(pe,{className:"h-96"}),s.jsx(pe,{className:"h-96"})]})]})});if(r)return s.jsx(me,{children:s.jsxs("div",{children:[s.jsx(bt,{variant:"destructive",children:s.jsx(xt,{children:t("admin.dashboard.error")})}),s.jsx(yt,{onClick:()=>i(),className:"mt-4",children:t("common.retry")})]})});const o=e!=null&&e.user_distribution?Object.entries(e.user_distribution).map(([a,c])=>({name:t(`roles.${a}`),value:c})):[];return s.jsx(me,{children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:t("admin.dashboard.title")}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(ee,{label:t("admin.dashboard.totalUsers"),value:(e==null?void 0:e.total_users)||0,icon:Ot}),s.jsx(ee,{label:t("admin.dashboard.totalQuizzes"),value:(e==null?void 0:e.total_quizzes)||0,icon:Pt}),s.jsx(ee,{label:t("admin.dashboard.totalAttempts"),value:(e==null?void 0:e.total_attempts)||0,icon:At}),s.jsx(ee,{label:t("admin.dashboard.activeLanguages"),value:(e==null?void 0:e.active_languages)||0,icon:kt})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(re,{children:[s.jsx(_e,{children:s.jsx(we,{children:t("admin.dashboard.userDistribution")})}),s.jsx(ne,{children:o.length>0?s.jsx(vt,{width:"100%",height:300,children:s.jsxs(br,{children:[s.jsx(E,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:c})=>`${a}: ${(c*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((a,c)=>s.jsx(We,{fill:Ke[c%Ke.length]},`cell-${c}`))}),s.jsx(ht,{}),s.jsx(gt,{})]})}):s.jsx("p",{className:"text-center text-gray-500 py-8",children:t("admin.dashboard.noData")})})]}),s.jsxs(re,{children:[s.jsx(_e,{children:s.jsx(we,{children:t("admin.dashboard.recentRegistrations")})}),s.jsx(ne,{children:e!=null&&e.recent_registrations&&e.recent_registrations.length>0?s.jsx("div",{className:"space-y-4",children:e.recent_registrations.map(a=>s.jsx(re,{className:"bg-gray-50",children:s.jsxs(ne,{className:"flex items-center justify-between p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a.name}),s.jsx("p",{className:"text-sm text-gray-600",children:a.email})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"inline-block px-2 py-1 text-xs font-semibold rounded-full bg-primary-100 text-primary-700",children:t(`roles.${a.role}`)}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(a.created_at).toLocaleDateString()})]})]})},a.id))}):s.jsx("p",{className:"text-center text-gray-500 py-8",children:t("admin.dashboard.noRegistrations")})})]})]})]})})};export{Mr as AdminDashboard,Mr as default};
