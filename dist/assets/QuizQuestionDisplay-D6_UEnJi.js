import{R as h,a as _,r as n,j as a,b as y}from"./index-BbbxppCW.js";import{C,b as N,c as z,a as k}from"./card-zbz7qCJr.js";import{u as v}from"./useTranslation-CC21zoU6.js";import{C as R}from"./circle-check-Dsibk6Jb.js";import{C as Q}from"./circle-x-CAdb3oZW.js";const I=h.memo(({question:r,questionNumber:d,selectedOption:s,onSelectOption:x,showCorrectAnswer:t=!1})=>{const{t:i}=v();_();const b=r.question_text,u=n.useMemo(()=>[{label:"A",text:r.option_a},{label:"B",text:r.option_b},{label:"C",text:r.option_c},{label:"D",text:r.option_d}],[r.option_a,r.option_b,r.option_c,r.option_d]),o=r.explanation,f=n.useCallback(e=>{const l=s===e,c=r.correct_option===e;return t?c?"border-green-500 bg-green-50 text-green-800":l&&!c?"border-red-500 bg-red-50 text-red-800":"border-gray-200 bg-white text-gray-800":l?"border-primary bg-primary/10 text-primary-900":"border-gray-200 bg-white hover:border-primary/60"},[s,r.correct_option,t]),g=n.useCallback(e=>{if(!t)return null;const l=r.correct_option===e,c=s===e;return l?a.jsx(R,{className:"w-5 h-5 text-green-600"}):c&&!l?a.jsx(Q,{className:"w-5 h-5 text-red-600"}):null},[t,r.correct_option,s]),p=n.useCallback((e,l)=>{if(t){const m=r.correct_option===e,j=s===e;if(m)return i("quiz.correctAnswer",{option:e,text:l});if(j&&!m)return i("quiz.incorrectAnswer",{option:e,text:l})}return s===e?i("quiz.selectedOption",{option:e,text:l}):i("quiz.option",{option:e,text:l})},[t,r.correct_option,s,i]);return a.jsxs(C,{children:[a.jsx(N,{children:a.jsx(z,{className:"text-xl",id:`question-${d}-title`,children:i("quiz.questionNumber",{number:d})})}),a.jsxs(k,{className:"space-y-4",children:[a.jsx("p",{className:"text-lg font-medium",id:`question-${d}-text`,role:"heading","aria-level":3,children:b}),a.jsx("div",{className:"space-y-3",role:"radiogroup","aria-labelledby":`question-${d}-text`,"aria-required":!t,children:u.map(e=>a.jsxs("div",{onClick:()=>!t&&(x==null?void 0:x(e.label)),role:"radio","aria-checked":s===e.label,"aria-label":p(e.label,e.text),className:y("w-full cursor-pointer select-none border rounded-xl p-4 text-left flex items-start gap-3 transition-all duration-200","hover:shadow-sm active:scale-[0.99]",t?"cursor-default":"",f(e.label)),children:[a.jsxs("span",{className:"font-bold flex-shrink-0","aria-hidden":"true",children:[e.label,"."]}),a.jsx("span",{className:"flex-1 leading-relaxed",children:e.text}),g(e.label)]},e.label))}),t&&o&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md",role:"region","aria-label":i("quiz.explanationRegion"),children:[a.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:i("quiz.explanation")}),a.jsx("p",{className:"text-sm text-blue-800",children:o})]})]})]})});export{I as Q};
