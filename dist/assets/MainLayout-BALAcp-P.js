import{c as v,r as q,ab as S,h as b,g as A,j as e,L as n,X as U,b as w}from"./index-BbbxppCW.js";import{u as O}from"./useResponsiveLogo-oJ2RCBfb.js";import{a as z,D as B,b as E,c as V,d as L,e as $,M as G,L as x}from"./LanguageSwitcher-CFBw11ZH.js";import{L as H}from"./Logo-qwv8thKT.js";import{B as u}from"./button-CIKh5vM4.js";import{u as I}from"./useTranslation-CC21zoU6.js";import{U as g}from"./user-CgQqfPiY.js";import{a as k,L as F}from"./log-out-CEU61esy.js";import{U as P}from"./users-8lpkJKwV.js";import{B as y}from"./book-open-SIfqpxXT.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=v("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=v("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=v("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),D=()=>{const t=q.useContext(S);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},X=()=>{const[t,a]=q.useState(!1),{t:s}=I(),{direction:c}=D(),{user:m,isAuthenticated:i,isAdmin:d,isTeacher:l,isStudent:o,logout:h}=b(),{size:p,variant:T}=O(),f=A(),Q=()=>{a(!t)},j=async()=>{try{await h()}catch(r){console.error("Logout error:",r)}},N=i?o?[{name:s("nav.dashboard"),path:"/student/dashboard"},{name:s("nav.browseQuizzes"),path:"/quizzes"},{name:s("nav.myAttempts"),path:"/attempts"},{name:s("nav.browseTeachers"),path:"/teachers"}]:l?[{name:s("nav.dashboard"),path:"/teacher/dashboard"},{name:s("nav.myQuizzes"),path:"/teacher/quizzes"},{name:s("nav.createQuiz"),path:"/teacher/quizzes/create"},{name:s("nav.browseTeachers"),path:"/teachers"}]:d?[]:[]:[];return e.jsx("nav",{className:`bg-white shadow-md sticky top-0 z-50 ${c==="rtl"?"text-right":"text-left"}`,dir:c,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex justify-between h-16 items-center",children:[e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx(H,{size:p,variant:T,isAdmin:d})})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4 rtl:space-x-reverse",children:[N.map(r=>e.jsx(n,{to:r.path,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${f.pathname===r.path?"text-primary border-b-2 border-primary":"text-gray-700 hover:text-primary"}`,children:r.name},r.path)),e.jsx(z,{}),!i&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(n,{to:"/login",children:s("common.login")})}),e.jsx(u,{size:"sm",asChild:!0,children:e.jsx(n,{to:"/register",children:s("common.register")})})]}),i&&m&&e.jsxs(B,{children:[e.jsx(E,{asChild:!0,children:e.jsxs(u,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:inline",children:m.name})]})}),e.jsxs(V,{align:"end",className:"w-48",children:[e.jsx(L,{asChild:!0,children:e.jsxs(n,{to:"/profile",className:"flex items-center cursor-pointer",children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),s("nav.profile")]})}),e.jsx($,{}),e.jsxs(L,{onClick:j,className:"flex items-center cursor-pointer text-red-600",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),s("common.logout")]})]})]})]}),e.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[e.jsx(z,{}),e.jsx("button",{onClick:Q,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500","aria-label":t?"Close menu":"Open menu","aria-expanded":t,"aria-controls":"mobile-menu",children:t?e.jsx(U,{className:"h-6 w-6"}):e.jsx(G,{className:"h-6 w-6"})})]})]}),t&&e.jsx("div",{className:"md:hidden",id:"mobile-menu",role:"navigation","aria-label":"Mobile navigation",children:e.jsxs("div",{className:"pt-2 pb-4 space-y-1",children:[N.map(r=>e.jsx(n,{to:r.path,onClick:()=>a(!1),className:`block px-3 py-2 rounded-md text-base font-medium ${f.pathname===r.path?"text-primary bg-gray-50":"text-gray-700 hover:bg-gray-50 hover:text-primary"}`,children:r.name},r.path)),!i&&e.jsxs("div",{className:"px-3 py-2 border-t border-gray-200 mt-2 pt-2 space-y-2",children:[e.jsx(n,{to:"/login",onClick:()=>a(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-center text-gray-700 hover:bg-gray-50 hover:text-primary border border-gray-300",children:s("common.login")}),e.jsx(n,{to:"/register",onClick:()=>a(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-center bg-primary text-white hover:bg-primary/90",children:s("common.register")})]}),i&&m&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-3 py-2 border-t border-gray-200 mt-2 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 mb-2",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:m.name})]}),e.jsx(n,{to:"/profile",onClick:()=>a(!1),className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-primary",children:s("nav.profile")}),e.jsxs("button",{onClick:()=>{a(!1),j()},className:"w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-gray-50",children:[e.jsx(k,{className:"h-4 w-4 inline mr-2"}),s("common.logout")]})]})})]})})]})})},J=({className:t})=>{const{t:a}=I(),s=A(),{isAdmin:c,isTeacher:m,isStudent:i}=b(),l=c?[{name:a("nav.dashboard"),path:"/admin/dashboard",icon:x},{name:a("nav.users"),path:"/admin/users",icon:P},{name:a("nav.teachers"),path:"/admin/teachers",icon:M},{name:a("nav.languages"),path:"/admin/languages",icon:F},{name:a("nav.quizzes"),path:"/admin/quizzes",icon:y}]:m?[{name:a("nav.dashboard"),path:"/teacher/dashboard",icon:x},{name:a("nav.myQuizzes"),path:"/teacher/quizzes",icon:y},{name:a("nav.createQuiz"),path:"/teacher/quizzes/create",icon:C},{name:a("nav.profile"),path:"/teacher/profile",icon:R}]:i?[{name:a("nav.dashboard"),path:"/student/dashboard",icon:x},{name:a("nav.browseQuizzes"),path:"/quizzes",icon:y},{name:a("nav.myAttempts"),path:"/attempts",icon:C},{name:a("nav.browseTeachers"),path:"/teachers",icon:M}]:[];return e.jsx("aside",{className:w("w-64 bg-white border-r border-gray-200 min-h-screen",t),children:e.jsx("nav",{className:"p-4 space-y-2",children:l.map(o=>{const h=o.icon,p=s.pathname===o.path;return e.jsxs(n,{to:o.path,className:w("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",p?"bg-primary text-primary-foreground":"text-gray-700 hover:bg-gray-100"),children:[e.jsx(h,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:o.name})]},o.path)})})})},ie=({children:t,showSidebar:a=!0})=>{const{direction:s}=D(),{isAuthenticated:c}=b();return e.jsxs("div",{className:"min-h-screen bg-gray-50",dir:s,children:[e.jsx(X,{}),e.jsxs("div",{className:"flex",children:[c&&a&&e.jsx(J,{}),e.jsx("main",{id:"main-content",className:"flex-1 container mx-auto px-4 py-6 md:py-8",tabIndex:-1,children:t})]})]})};export{C,ie as M};
