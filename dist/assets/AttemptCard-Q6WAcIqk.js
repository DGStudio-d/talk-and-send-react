import{R as f,u as g,a as z,r,j as s}from"./index-BbbxppCW.js";import{C as j,b as q,c as C,a as p}from"./card-zbz7qCJr.js";import{B as c}from"./badge-B57fkYpB.js";import{u as w}from"./useTranslation-CC21zoU6.js";import{C as N}from"./circle-check-Dsibk6Jb.js";import{C as v}from"./circle-x-CAdb3oZW.js";import{C as b}from"./calendar-BGtI_0eA.js";import{T as y}from"./target-Dx8SBibj.js";const S=f.memo(({attempt:e})=>{const d=g(),{t:a}=w(),{locale:t}=z(),o=r.useMemo(()=>{var i,n;return e.quiz?((i=e.quiz.title)==null?void 0:i[t])||((n=e.quiz.title)==null?void 0:n.en)||a("quiz.untitled"):a("quiz.deletedQuiz")},[e.quiz,t,a]),u=r.useMemo(()=>!e.quiz||e.quiz.is_deleted,[e.quiz]),m=r.useMemo(()=>{const i=e.completed_at||e.started_at,n=new Date(i);return new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(n)},[e.completed_at,e.started_at,t]),l=r.useCallback(()=>{d(`/attempts/${e.id}/results`)},[d,e.id]),h=r.useCallback(i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),l())},[l]),x=e.is_passed?a("quiz.passed"):a("quiz.failed");return s.jsxs(j,{className:"cursor-pointer transition-shadow hover:shadow-lg focus-within:ring-2 focus-within:ring-primary-500",onClick:l,onKeyDown:h,tabIndex:0,role:"button","aria-label":a("quiz.viewAttemptResults",{title:o,status:x,score:e.percentage}),children:[s.jsx(q,{children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs(C,{className:"text-lg line-clamp-2",children:[o,u&&s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",a("quiz.deleted"),")"]})]}),e.is_passed?s.jsxs(c,{className:"bg-green-500 hover:bg-green-600 flex-shrink-0","aria-label":a("quiz.passedStatus"),children:[s.jsx(N,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),a("quiz.passed")]}):s.jsxs(c,{variant:"destructive",className:"flex-shrink-0","aria-label":a("quiz.failedStatus"),children:[s.jsx(v,{className:"w-3 h-3 mr-1","aria-hidden":"true"}),a("quiz.failed")]})]})}),s.jsx(p,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b,{className:"w-4 h-4","aria-hidden":"true"}),s.jsx("span",{children:m})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y,{className:"w-4 h-4","aria-hidden":"true"}),s.jsxs("span",{children:[a("quiz.score"),": ",e.correct_answers,"/",e.total_questions," (",e.percentage,"%)"]})]})]})})]})});export{S as A};
